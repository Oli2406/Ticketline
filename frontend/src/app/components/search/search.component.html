<div class="button-group mt-3 text-center">
  <button
    class="btn me-3"
    [ngClass]="{'btn-primary': curSearchType === SearchType.event, 'btn-secondary': curSearchType !== SearchType.event}"
    (click)="changeSearchType(SearchType.event)">
    event
  </button>
  <button
    class="btn me-3"
    [ngClass]="{'btn-primary': curSearchType === SearchType.artist, 'btn-secondary': curSearchType !== SearchType.artist}"
    (click)="changeSearchType(SearchType.artist)">
    artist
  </button>
  <button
    class="btn me-3"
    [ngClass]="{'btn-primary': curSearchType === SearchType.location, 'btn-secondary': curSearchType !== SearchType.location}"
    (click)="changeSearchType(SearchType.location)">
    location
  </button>
  <button
    class="btn me-3"
    [ngClass]="{'btn-primary': curSearchType === SearchType.performance, 'btn-secondary': curSearchType !== SearchType.performance}"
    (click)="changeSearchType(SearchType.performance)">
    performance
  </button>
  <button
    class="btn me-3"
    [ngClass]="{'btn-primary': curSearchType === SearchType.advanced, 'btn-secondary': curSearchType !== SearchType.advanced}"
    (click)="changeSearchType(SearchType.advanced)">
    advanced
  </button>
</div>

<!-- Artist Search Form -->
<div *ngIf="curSearchType === SearchType.artist" class="mt-3">
  <form (ngSubmit)="updateData()">
    <div class="row justify-content-center">
      <div class="col-md-3 mb-3">
        <label class="form-label" for="firstName">First Name</label>
        <input
          class="form-control"
          id="firstName"
          name="firstName"
          [(ngModel)]="artistSearchParams.firstName"
          (ngModelChange)="searchChanged()"
          placeholder="Enter first name"
          type="text"/>
      </div>

      <div class="col-md-3 mb-3">
        <label class="form-label" for="lastName">Last Name</label>
        <input
          class="form-control"
          id="lastName"
          name="lastName"
          [(ngModel)]="artistSearchParams.lastName"
          (ngModelChange)="searchChanged()"
          placeholder="Enter last name"
          type="text"/>
      </div>

      <div class="col-md-3 mb-3">
        <label class="form-label" for="artistBandName">Artist/Band Name</label>
        <input
          class="form-control"
          id="artistBandName"
          name="artistBandName"
          [(ngModel)]="artistSearchParams.artistName"
          (ngModelChange)="searchChanged()"
          placeholder="Enter artist/band name"
          type="text"/>
      </div>

      <div class="col-md-3 mb-3 d-flex align-items-end">
        <button type="button" (click)="clearSearch()" class="btn btn-secondary me-2">
          <i class="bi bi-x-circle"></i> Clear
        </button>
      </div>
    </div>
  </form>
</div>

<!-- Search Results for events -->
<table
  *ngIf="curSearchType === SearchType.event"
  class="table table-striped table-hover text-center mt-3">
  <thead>
  <tr>
    <th>Name</th>
    <th>Category</th>
    <th>Description</th>
    <th>Date</th>
    <th>Duration</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let event of events">
    <td>{{ event.title }}</td>
    <td>{{ event.category }}</td>
    <td>{{ event.description }}</td>
    <td>{{ event.dateOfEvent }}</td>
    <td>{{ event.duration }}</td>
    <td>
      <button class="btn btn-secondary"><i class="bi bi-info"></i></button>
    </td>
  </tr>
  </tbody>
</table>

<!-- Search Results for artist -->
<table *ngIf="curSearchType === SearchType.artist" class="table table-striped table-hover text-center mt-3">
  <thead>
  <tr>
    <th>First Name</th>
    <th>Last Name</th>
    <th>Artist/Band Name</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let artist of artists">
    <td>{{ artist.firstName }}</td>
    <td>{{ artist.lastName }}</td>
    <td>{{ artist.artistName }}</td>
    <td>
      <button class="btn btn-secondary"><i class="bi bi-info"></i></button>
    </td>
  </tr>
  </tbody>
</table>

<!-- Search Results for location -->
<table *ngIf="curSearchType === SearchType.location" class="table table-striped table-hover text-center mt-3">
  <thead>
  <tr>
    <th>Name</th>
    <th>Address</th>
    <th>Country</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let location of locations">
    <td>{{ location.name }}</td>
    <td>{{ location.street }}, {{ location.postalCode }} {{ location.city }}, {{ location.country }}</td>
    <td>{{ location.country }}</td>
    <td>
      <button class="btn btn-secondary"><i class="bi bi-info"></i></button>
    </td>
  </tr>
  </tbody>
</table>

<div *ngIf="curSearchType === SearchType.advanced" class="mt-3">
  <div class="input-group mb-3">
    <input
      type="text"
      class="form-control"
      placeholder="Enter advanced search query..."
      [(ngModel)]="searchQuery"
      (ngModelChange)="performAdvancedSearch()" />
    <button class="btn btn-primary" (click)="performAdvancedSearch()">Search</button>
    <button type="button" (click)="clearSearch()" class="btn btn-secondary me-2">
      <i class="bi bi-x-circle"></i> Clear
    </button>
  </div>
</div>

<!-- Advanced Search Results -->
<div *ngIf="curSearchType === SearchType.advanced" class="mt-3">
  <table *ngIf="advancedSearchPerformances.length > 0" class="table table-striped table-hover text-center mt-3">
    <thead>
    <tr>
      <th>Name</th>
      <th>Date</th>
      <th>Price</th>
      <th>Number of Tickets</th>
      <th>Hall</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let performance of advancedSearchPerformances">
      <td>{{ performance.name }}</td>
      <td>{{ performance.date | date }}</td>
      <td>{{ performance.price }} â‚¬</td>
      <td>{{ performance.ticketNumber }}</td>
      <td>{{ performance.hall }}</td>
    </tr>
    </tbody>
  </table>

  <div *ngIf="advancedSearchPerformances.length === 0" class="text-center mt-3">
    <p>No performances found for the current search query.</p>
  </div>
</div>



<!-- Search Results for performance -->
<table *ngIf="curSearchType === SearchType.performance" class="table table-striped table-hover text-center mt-3">
  <thead>
  <tr>
    <th>Name</th>
    <th>Location</th>
    <th>Date</th>
    <th>Price</th>
    <th>Artist</th>
    <th>Ticket Number</th>
    <th>Hall</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let performance of performances">
    <td>{{ performance.name }}</td>
    <td>{{ performance.locationName }}</td>
    <td>{{ performance.date }}</td>
    <td>{{ performance.price }}</td>
    <td>{{ performance.artistName }}</td>
    <td>{{ performance.ticketNumber }}</td>
    <td>{{ performance.hall }}</td>
    <td>
      <button class="btn btn-secondary"><i class="bi bi-info"></i></button>
    </td>
  </tr>
  </tbody>
</table>
