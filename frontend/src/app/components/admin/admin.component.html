<div *ngIf="error" class="alert alert-warning alert-dismissible fade show" role="alert">
  <strong>Error!</strong> {{ errorMessage }}
  <button type="button" (click)="vanishError()" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="container-fluid">
  <!-- Header -->
  <div class="row justify-content-center">
    <div class="col-md-8 text-center">
      <h1 class="custom-heading">Administrator menu</h1>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="row justify-content-center my-3">
    <div class="col-md-6 d-flex justify-content-between">
      <button class="btn btn-primary" (click)="navigateToCreateShow()"><i class="bi bi-plus-lg"></i> Create Show</button>
      <button class="btn btn-primary" (click)="navigateToCreateNews()"><i class="bi bi-plus-lg"></i> Create News</button>
      <button class="btn btn-primary" (click)="navigateToCreateEvent()"><i class="bi bi-plus-lg"></i> Create Event</button>
      <button class="btn btn-primary" (click)="navigateToCreateUser()"><i class="bi bi-person-plus"></i> Create User</button>
    </div>
  </div>

  <!-- User Table -->
  <div class="row justify-content-center user-table">
    <div class="col-md-8">
      <table class="table table-striped table-hover text-center">
        <thead>
        <tr>
          <th>First name</th>
          <th>Last name</th>
          <th>Email</th>
          <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let user of users">
          <td>{{ user.firstName }}</td>
          <td>{{ user.lastName }}</td>
          <td>{{ user.email }}</td>
          <td>
            <div class="btn-group button-cell">
            @if(user.locked) {
              <button class="btn btn-success btn-sm" [disabled]="currentUserEmail === user.email" (click)="unlockUser(user.id)">
                <i class="bi bi-unlock-fill"></i>
              </button>
            } @else {
              <button class="btn btn-danger btn-sm toggle-locked" [disabled]="currentUserEmail === user.email" (click)="lockUser(user.id)">
                <i class="bi bi-lock-fill"></i>
              </button>
            }
            <button class="btn btn-danger btn-sm delete-user"><i class="bi bi-trash"></i></button>
            <button class="btn btn-secondary btn-sm reset-password" (click)="resetPassword(user.email)">
              reset password
            </button>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!-- Render child components -->
  <router-outlet></router-outlet>
</div>
